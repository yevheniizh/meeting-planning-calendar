{"version":3,"sources":["webpack:///./components/calendar/index.js","webpack:///./fixtures-members.js","webpack:///./fixtures-meetings.js","webpack:///./pages/calendar/index.js","webpack:///./index.js"],"names":["Calendar","constructor","members","meetings","event","chosenMeeting","target","closest","chosenMeetingName","dataset","name","confirm","remove","this","render","wrapper","document","createElement","innerHTML","getTable","element","firstElementChild","renderMeetings","subElements","getSubElements","initEventListeners","querySelectorAll","reduce","accum","subElement","meeting","getTableHeader","getTableBody","getMembersDropdown","getEventButton","map","member","join","getTableHoursColumn","getTableColumn","a","i","start","end","duration","push","querySelector","day","time","id","deleteButton","button","addEventListener","onRemoveMeetingClick","membersDropdown","chosenMember","value","filterMeetings","item","Object","keys","style","visibility","idOfChosenMember","find","filteredMeetings","filter","every","includes","Page","template","initComponents","renderComponents","calendar","components","forEach","component","root","append","mainPage","content","Content","body"],"mappings":"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","file":"app.aa82f5583c197c79a4fd.js","sourcesContent":["export default class Calendar {\n  element; //html element\n  subElements = {};\n  start = 10;\n  end = 18;\n  duration = 1;\n\n  onRemoveMeetingClick = (event) => {\n    const chosenMeeting = event.target.closest('[data-meeting]');\n    const chosenMeetingName = chosenMeeting.dataset.name;\n\n    const modal = confirm(\n      `Are you sure you want to delete '${chosenMeetingName}' event?`\n    );\n\n    if (modal) {\n      chosenMeeting.remove();\n    }\n  };\n\n  constructor(members, meetings) {\n    this.meetings = meetings;\n    this.members = members;\n\n    this.render();\n  }\n\n  render() {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = this.getTable();\n\n    const element = wrapper.firstElementChild;\n    this.element = element;\n\n    this.renderMeetings();\n\n    this.subElements = this.getSubElements(this.element);\n\n    this.initEventListeners();\n\n    return this.element;\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-meeting]');\n\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.meeting] = subElement;\n\n      return accum;\n    }, {});\n  }\n\n  getTable() {\n    return `\n      <div class='calendar'>\n        ${this.getTableHeader()}\n        ${this.getTableBody()}\n      </div>`;\n  }\n\n  getTableHeader() {\n    return `\n      <div class='calendar__header'>\n        <div>\n          <h1>Calendar</h1>\n        </div>\n        <div class='calendar__header_handling'>\n            ${this.getMembersDropdown()}\n            ${this.getEventButton}\n        </div>\n      </div>\n    `;\n  }\n\n  getMembersDropdown() {\n    return `\n    <div class='calendar__header_handling-dropdown'>\n      <select class='form-select form-select-lg' id='membersDropdown'>\n        <option selected value='All members'>All members</option>\n        ${this.members\n          .map((member) => {\n            return `<option value='${member.name}'>${member.name}</option>`;\n          })\n          .join('')}\n      </select>\n    </div>`;\n  }\n\n  get getEventButton() {\n    return `\n    <div class='calendar__header_handling-newEventCreatingButton'>\n      <button\n        type='submit'\n        name='newEvent'\n        class='btn btn-outline-dark'\n      >New event +</button>\n    </div>`;\n  }\n\n  getTableBody() {\n    return `<div class='calendar__table'>\n      <ul class='calendar__table-column' data-day='Name'>\n        <li class='calendar__table-column-header'>Name</li>\n        ${this.getTableHoursColumn()}\n      </ul>\n\n      <ul class='calendar__table-column' data-day='Mon'>\n        <li class='calendar__table-column-header'>Mon</li>\n        ${this.getTableColumn()}\n      </ul>\n\n      <ul class='calendar__table-column' data-day='Tue'>\n        <li class='calendar__table-column-header'>Tue</li>\n        ${this.getTableColumn()}\n      </ul>\n\n      <ul class='calendar__table-column' data-day='Wed'>\n        <li class='calendar__table-column-header'>Wed</li>\n        ${this.getTableColumn()}\n      </ul>\n\n      <ul class='calendar__table-column' data-day='Thu'>\n        <li class='calendar__table-column-header'>Thu</li>\n        ${this.getTableColumn()}\n      </ul>\n\n      <ul class='calendar__table-column' data-day='Fri'>\n        <li class='calendar__table-column-header'>Fri</li>\n        ${this.getTableColumn()}\n      </ul>\n    </div>`;\n  }\n\n  getTableHoursColumn() {\n    let a = [];\n\n    for (let i = this.start; i <= this.end; i = i + this.duration) {\n      a.push(`<li>${i}:00</li>`);\n    }\n\n    return a.join('');\n  }\n\n  getTableColumn() {\n    let a = [];\n\n    for (let i = this.start; i <= this.end; i = i + this.duration) {\n      a.push(\n        `<li\n          data-time='${i}:00'\n        ></li>`\n      );\n    }\n\n    return a.join('');\n  }\n\n  renderMeetings(meetings = this.meetings) {\n    const arr = [...meetings];\n    arr.map((meeting) => {\n      const currentColumn = this.element.querySelector(\n        `[data-day='${meeting.day}']`\n      );\n      const currentRow = currentColumn.querySelector(\n        `[data-time='${meeting.time}']`\n      );\n\n      return (currentRow.innerHTML = `\n      <div data-meeting='${meeting.id}' data-name='${meeting.name}' style='visibility: visible'>\n        <a href='/meetings/${meeting.id}' class='calendar__table-column_meeting'>\n          ${meeting.name}\n        </a>\n        <button class='calendar__table-column_meeting_delete' data-delete='delete'>&times;</button>\n      </div>`);\n    });\n  }\n\n  initEventListeners() {\n    //remove event from calendar\n    const deleteButton = this.element.querySelectorAll('[data-delete]');\n    for (let button of deleteButton) {\n      button.addEventListener('pointerdown', this.onRemoveMeetingClick);\n    }\n\n    //filter events by team member\n    const membersDropdown = this.element.querySelector('#membersDropdown');\n\n    membersDropdown.addEventListener('change', () => {\n      const chosenMember = membersDropdown.value;\n      this.filterMeetings(chosenMember);\n    });\n  }\n\n  filterMeetings(chosenMember = 'All members') {\n    if (chosenMember === 'All members') {\n      for (let item of Object.keys(this.subElements)) {\n        this.subElements[item].style.visibility = 'visible';\n      }\n\n      return [...this.meetings];\n    }\n\n    const meetings = [...this.meetings];\n    const members = [...this.members];\n    const idOfChosenMember = members.find(({ name }) => name === chosenMember)\n      .id;\n\n    // get all meetings that must be disabled\n    const filteredMeetings = meetings\n      .filter(({ members }) =>\n        members.every(({ id }) => id !== idOfChosenMember)\n      )\n      .map((item) => item.id);\n\n    // insert style = 'display: visible' into all meetings\n    for (let item of Object.keys(this.subElements)) {\n      this.subElements[item].style.visibility = 'visible';\n    }\n\n    // insert style = 'display: none' into filtered¸ meetings\n    for (let item of filteredMeetings) {\n      if (Object.keys(this.subElements).includes(item)) {\n        this.subElements[item].style.visibility = 'hidden';\n      }\n    }\n  }\n}\n","const members = [\n  { id: '0001', name: 'Polina' },\n  { id: '0002', name: 'Maria' },\n  { id: '0003', name: 'Bob' },\n  { id: '0004', name: 'Alex' },\n];\n\nexport default members;\n","const meetings = [\n  {\n    id: '0000-0000-0000-0001',\n    name: 'Daily Standup',\n    day: 'Mon',\n    time: '11:00',\n    members: [{ id: '0001' }, { id: '0002' }, { id: '0003' }, { id: '0004' }],\n  },\n  {\n    id: '0000-0000-0000-0002',\n    name: 'Annual planning session',\n    day: 'Wed',\n    time: '13:00',\n    members: [{ id: '0001' }, { id: '0002' }],\n  },\n  {\n    id: '0000-0000-0000-0003',\n    name: 'Retrospective',\n    day: 'Fri',\n    time: '17:00',\n    members: [{ id: '0003' }, { id: '0004' }],\n  },\n  {\n    id: '0000-0000-0000-0004',\n    name: 'FE team sync',\n    day: 'Thu',\n    time: '17:00',\n    members: [{ id: '0004' }],\n  },\n  {\n    id: '0000-0000-0000-0005',\n    name: 'Planning session',\n    day: 'Tue',\n    time: '10:00',\n    members: [{ id: '0001' }, { id: '0004' }],\n  },\n];\n\nexport default meetings;\n","import Calendar from '../../components/calendar/index.js';\nimport members from '../../fixtures-members';\nimport meetings from '../../fixtures-meetings';\n\nexport default class Page {\n  element; //html element\n  subElements = {}; //selected elements\n  components = {}; //imported initialized components\n\n  constructor() {\n    this.render();\n  }\n\n  get template() {\n    return `\n      <div class='schedule'>\n        <div data-element=\"calendar\">\n          <!-- Calendar component -->\n        </div>\n      </div>\n    `;\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n\n    this.initComponents();\n\n    this.renderComponents();\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n\n      return accum;\n    }, {});\n  }\n\n  initComponents() {\n    const calendar = new Calendar(members, meetings);\n    this.components.calendar = calendar;\n  }\n\n  renderComponents() {\n    Object.keys(this.components).forEach((component) => {\n      const root = this.subElements[component];\n      const { element } = this.components[component];\n\n      root.append(element);\n    });\n  }\n}\n","import Content from './pages/calendar';\n\nexport default class MainPage {\n  element; //html element\n  subElements = {}; //selected elements\n  components = {}; //imported initialized components\n\n  constructor() {\n    this.render();\n  }\n\n  // initializeRouter() {\n  //   this.router\n  //     .addRoute(new RegExp(`^${URL_PATH}$`), 'calendar')\n  //     .addRoute(new RegExp(`^${URL_PATH}$`), 'create-event')\n  //     .addRoute(/404\\/?$/, 'error404')\n  //     .setNotFoundPagePath('error404')\n  //     .listen();\n  // }\n\n  get template() {\n    return `\n      <main class='main'>\n        <section class=\"content\" id=\"content\" data-element=\"content\">\n        \n        </section>\n      </main>\n    `;\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n\n    this.initComponents();\n\n    this.renderComponents();\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n\n      return accum;\n    }, {});\n  }\n\n  initComponents() {\n    const content = new Content();\n    this.components.content = content;\n  }\n\n  renderComponents() {\n    Object.keys(this.components).forEach((component) => {\n      const root = this.subElements[component];\n      const { element } = this.components[component];\n\n      root.append(element);\n    });\n  }\n}\n\nconst mainPage = new MainPage();\n\ndocument.body.append(mainPage.element);\n\n// mainPage.initializeRouter();\n"],"sourceRoot":""}