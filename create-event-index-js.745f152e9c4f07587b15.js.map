{"version":3,"sources":["webpack:///./components/create-event/index.js","webpack:///./utils/escape-html.js","webpack:///./pages/create-event/index.js","webpack:///../node_modules/uuid/index.js","webpack:///../node_modules/uuid/lib/bytesToUuid.js","webpack:///../node_modules/uuid/lib/rng-browser.js","webpack:///../node_modules/uuid/v1.js","webpack:///../node_modules/uuid/v4.js"],"names":["CreateEvent","constructor","event","preventDefault","this","setEventData","element","eventData","name","length","members","querySelector","style","display","localStorage","setItem","JSON","stringify","meetings","setTimeout","document","location","href","parse","getItem","render","wrapper","createElement","innerHTML","template","firstElementChild","initEventListeners","addEventListener","querySelectorAll","forEach","item","checked","onFormSubmit","getMembersDropdown","getDaysDropdown","getEventHoursDropdown","map","member","id","join","days","day","getEventHours","a","i","start","end","duration","push","chosenDay","chosenTime","chosenMembers","setEventName","value","uuidv4","replace","Object","values","find","selected","time","filter","reduce","acc","destroy","remove","Page","subElements","getSubElements","initComponents","renderComponents","accum","subElement","dataset","createEvent","components","keys","component","root","append","v1","v4","uuid","module","exports","byteToHex","toString","substr","buf","offset","bth","getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","rnds","Array","r","Math","random","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","options","b","node","clockseq","undefined","seedBytes","msecs","Date","getTime","nsecs","dt","Error","tl","tmh","n","ii"],"mappings":"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","file":"create-event-index-js.745f152e9c4f07587b15.js","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nimport escapeHtml from '../../utils/escape-html.js';\n\nexport default class CreateEvent {\n  element; //html element\n  start = 10;\n  end = 18;\n  duration = 1;\n  days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];\n  eventData = {}; // fixture data template\n\n  constructor() {\n    this.meetings = JSON.parse(localStorage.getItem('meetingsDB'));\n    this.members = JSON.parse(localStorage.getItem('membersDB'));\n\n    this.render();\n  }\n\n  onFormSubmit = (event) => {\n    event.preventDefault();\n    this.setEventData(this.element);\n\n    if (!this.eventData.name.length || !this.eventData.members.length) {\n      this.element.querySelector('#create-event__alert_error').style.display =\n        'block';\n    } else {\n      this.element.querySelector('#create-event__alert_error').style.display =\n        'none';\n    }\n\n    if (this.eventData.name.length && this.eventData.members.length) {\n      this.element.querySelector('#create-event__alert_success').style.display =\n        'block';\n\n      // add event to storage\n      localStorage.setItem(\n        'meetingsDB',\n        JSON.stringify([...this.meetings, this.eventData])\n      );\n      // meetings.push(this.eventData);\n\n      setTimeout(() => {\n        document.location.href = '/';\n      }, 500);\n    }\n  };\n\n  render() {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = this.template;\n\n    const element = wrapper.firstElementChild;\n    this.element = element;\n\n    this.initEventListeners();\n\n    return this.element;\n  }\n\n  initEventListeners() {\n    // set active all checkboxes\n    const allMembersCheckbox = this.element.querySelector(\n      '#allMembersCheckbox'\n    );\n\n    allMembersCheckbox.addEventListener('click', () => {\n      const allMembers = document.querySelectorAll('[data-member]');\n      [...allMembers].forEach((item) => (item.checked = !item.checked));\n    });\n\n    this.element.addEventListener('submit', this.onFormSubmit);\n  }\n\n  get template() {\n    return `\n    <div>\n      <div class=\"alert alert-warning\" role=\"alert\" style='display: none;' id='create-event__alert_error'>\n        Please fill out all fields.\n      </div>\n      <div class=\"alert alert-success\" role=\"alert\" style='display: none;' id='create-event__alert_success'>\n        New event created!\n      </div>\n      <form>\n        <div>\n          <span>Name of the event</span>\n          <input\n            placeholder='Type here'\n            type='search'\n            class='form-control rounded'\n            data-name='name'\n          />\n        </div>\n\n        <div>\n          <span>Participants</span>\n          ${this.getMembersDropdown()}\n        </div>\n\n        <div>\n          <span>Day</span>\n          ${this.getDaysDropdown()}\n        </div>\n        <div>\n          <span>Time</span>\n          ${this.getEventHoursDropdown()}\n        </div>\n\n        <div>\n          <a href='/'>\n            <button type=\"button\" class=\"btn btn-secondary\">Cancel</button>\n          </a>\n\n          <button type=\"submit\" class=\"btn btn-primary\">Create</button>\n        </div>\n      </form>\n    </div>`;\n  }\n\n  getMembersDropdown() {\n    return `\n    <div style='height:2.5rem; overflow: scroll; border: 1px solid black'>\n      <div class=\"form-check\">\n        <input class=\"form-check-input\"type=\"checkbox\" id='allMembersCheckbox' value='All members'>\n        <label class=\"form-check-label\" for=\"allMembersCheckbox\">All members</label>\n      </div>\n      ${this.members\n        .map((member) => {\n          return `\n          <div class=\"form-check\">\n            <input class=\"form-check-input\" class=\"member\" type=\"checkbox\" data-member=${member.id} value=${member.id}>\n            <label class=\"form-check-label\">${member.name}</label>\n          </div>`;\n        })\n        .join('')}\n    </div>`;\n  }\n\n  getDaysDropdown() {\n    return `\n    <div>\n      <select class='form-select form-select-lg'>\n        ${this.days\n          .map((day) => {\n            return `<option data-day='${day}' value='${day}'>${day}</option>`;\n          })\n          .join('')}\n      </select>\n    </div>`;\n  }\n\n  getEventHoursDropdown() {\n    return `\n    <div class='calendar__header_handling-dropdown'>\n      <select class='form-select form-select-lg'>\n        ${this.getEventHours()}\n      </select>\n    </div>`;\n  }\n\n  getEventHours() {\n    let a = [];\n\n    for (let i = this.start; i <= this.end; i = i + this.duration) {\n      a.push(`<option data-time='${i}'>${i}:00</option>`);\n    }\n\n    return a.join('');\n  }\n\n  setEventData(element) {\n    const chosenDay = element.querySelectorAll('[data-day]');\n    const chosenTime = element.querySelectorAll('[data-time]');\n    const chosenMembers = element.querySelectorAll('[data-member]');\n    const setEventName = element.querySelector('[data-name]').value;\n\n    this.eventData.id = uuidv4();\n    this.eventData.name = escapeHtml(setEventName);\n    this.eventData.day = Object.values(chosenDay).find(\n      (item) => item.selected\n    ).value;\n    this.eventData.time = Object.values(chosenTime).find(\n      (item) => item.selected\n    ).value;\n    this.eventData.members = Object.values(chosenMembers)\n      .filter((item) => item.checked)\n      .reduce((acc, item) => {\n        return [...acc, { id: item.value }];\n      }, []);\n  }\n\n  destroy() {\n    this.element.remove();\n  }\n}\n","export default string => string\n  .replace(/&/g, '&amp;')\n  .replace(/\"/g, '&quot;')\n  .replace(/'/g, '&#39;')\n  .replace(/</g, '&lt;')\n  .replace(/>/g, '&gt;');\n","import CreateEvent from '../../components/create-event/index.js';\n\nexport default class Page {\n  element; //html element\n  subElements = {}; //selected elements\n  components = {}; //imported initialized components\n\n  get template() {\n    return `<div>\n      <div data-element=\"createEvent\">\n        <!-- CreateEvent component -->\n      </div>\n    </div>`;\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n\n    this.initComponents();\n\n    this.renderComponents();\n\n    return this.element;\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n\n      return accum;\n    }, {});\n  }\n\n  initComponents() {\n    const createEvent = new CreateEvent();\n    this.components.createEvent = createEvent;\n  }\n\n  renderComponents() {\n    Object.keys(this.components).forEach((component) => {\n      const root = this.subElements[component];\n      const { element } = this.components[component];\n\n      root.append(element);\n    });\n  }\n\n  destroy() {\n    for (const component of Object.values(this.components)) {\n      component.destroy();\n    }\n  }\n}\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n"],"sourceRoot":""}